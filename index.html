<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sealed Light Flow // V4.6 (Ripple Dock)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        silver: '#E0E0E0',
                        'silver-dim': '#808080',
                        aurora: '#00FFFF',
                        purple: '#9D00FF',
                        void: '#050505',
                    },
                    fontFamily: {
                        mono: ['Courier New', 'Courier', 'monospace'],
                    },
                    animation: {
                        'blob': 'blob 15s infinite',
                        'float-30': 'floatUp30 1s linear infinite', 
                        'float-45': 'floatUp45 1s linear infinite',
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' },
                        },
                        invertFlash: {
                            '0%': { filter: 'invert(0)' },
                            '50%': { filter: 'invert(1)' },
                            '100%': { filter: 'invert(0)' },
                        },
                        floatUp30: {
                            '0%': { 
                                transform: 'translate(0, 0) scale(0.5)', 
                                opacity: 0 
                            },
                            '10%': { opacity: 1 }, 
                            '90%': { opacity: 1 }, 
                            '100%': { 
                                transform: 'translate(-25vh, -43vh) scale(0.5)', 
                                opacity: 0 
                            },
                        },
                        floatUp45: {
                            '0%': { 
                                transform: 'translate(0, 0) scale(0.5)', 
                                opacity: 0 
                            },
                            '10%': { opacity: 1 }, 
                            '90%': { opacity: 1 }, 
                            '100%': { 
                                transform: 'translate(-35vh, -35vh) scale(0.5)', 
                                opacity: 0 
                            },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #050505;
            margin: 0;
            overflow: hidden;
        }

        /* Hide Scrollbar */
        ::-webkit-scrollbar { width: 0px; background: transparent; }

        /* --- Glitch CSS --- */
        .glitch-text {
            position: relative;
            color: #E0E0E0;
            z-index: 10;
        }

        .glitch-text::before,
        .glitch-text::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #050505;
            opacity: 0;
            pointer-events: none;
        }

        .glitch-text.active-glitch::before,
        .glitch-text.active-glitch::after,
        .glitch-text:hover::before,
        .glitch-text:hover::after {
            opacity: 1;
        }

        .glitch-text.active-glitch::before,
        .glitch-text:hover::before {
            color: #00FFFF;
            z-index: -1;
            animation: glitch-anim-1 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite;
        }

        .glitch-text.active-glitch::after,
        .glitch-text:hover::after {
            color: #FF00FF;
            z-index: -2;
            animation: glitch-anim-2 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) both infinite reverse;
        }

        @keyframes glitch-anim-1 {
            0% { clip-path: inset(20% 0 80% 0); transform: translate(-2px, 2px); }
            20% { clip-path: inset(60% 0 10% 0); transform: translate(2px, -2px); }
            40% { clip-path: inset(40% 0 50% 0); transform: translate(-2px, 2px); }
            60% { clip-path: inset(80% 0 5% 0); transform: translate(2px, -2px); }
            80% { clip-path: inset(10% 0 60% 0); transform: translate(-2px, 2px); }
            100% { clip-path: inset(30% 0 30% 0); transform: translate(2px, -2px); }
        }

        @keyframes glitch-anim-2 {
            0% { clip-path: inset(10% 0 50% 0); transform: translate(2px, -2px); }
            20% { clip-path: inset(80% 0 5% 0); transform: translate(-2px, 2px); }
            40% { clip-path: inset(30% 0 30% 0); transform: translate(2px, -2px); }
            60% { clip-path: inset(10% 0 60% 0); transform: translate(-2px, 2px); }
            80% { clip-path: inset(50% 0 20% 0); transform: translate(2px, -2px); }
            100% { clip-path: inset(70% 0 10% 0); transform: translate(-2px, 2px); }
        }

        .aurora-blob {
            position: absolute;
            filter: blur(100px);
            opacity: 0.6; 
            mix-blend-mode: color-dodge;
            animation: blob 15s infinite cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;
        const { motion, useMotionValue, useSpring, useTransform } = window.Motion;

        const useRandomGlitch = (minTime = 3000, maxTime = 8000) => {
            const [isGlitching, setIsGlitching] = useState(false);
            useEffect(() => {
                let timeout;
                const triggerGlitch = () => {
                    setIsGlitching(true);
                    const duration = Math.random() * 250 + 150;
                    setTimeout(() => {
                        setIsGlitching(false);
                        const nextDelay = Math.random() * (maxTime - minTime) + minTime;
                        timeout = setTimeout(triggerGlitch, nextDelay);
                    }, duration);
                };
                timeout = setTimeout(triggerGlitch, 2000);
                return () => clearTimeout(timeout);
            }, [minTime, maxTime]);
            return isGlitching;
        };

        const useDecodingText = (text) => {
            const [displayText, setDisplayText] = useState('');
            const chars = "X#@!$01&?Â£Ã˜Âµ";
            useEffect(() => {
                let iteration = 0;
                let interval = setInterval(() => {
                    setDisplayText(text.split("").map((letter, index) => {
                        if (index < iteration) return text[index];
                        return chars[Math.floor(Math.random() * chars.length)];
                    }).join(""));
                    if (iteration >= text.length) clearInterval(interval);
                    iteration += 1 / 3;
                }, 30);
                return () => clearInterval(interval);
            }, [text]);
            return displayText;
        };

        const StarField = () => {
            const slowStars = useMemo(() => {
                return Array.from({ length: 25 }).map((_, i) => ({
                    id: i,
                    left: Math.random() * 100 + '%',
                    top: Math.random() * 100 + '%',
                    duration: Math.random() * 10 + 15 + 's', 
                    delay: Math.random() * 5 + 's',
                    size: Math.random() * 2 + 1 + 'px'
                }));
            }, []);

            const fastStars = useMemo(() => {
                return Array.from({ length: 15 }).map((_, i) => ({
                    id: i,
                    left: Math.random() * 100 + '%',
                    top: Math.random() * 100 + '%',
                    duration: Math.random() * 8 + 7 + 's', 
                    delay: Math.random() * 3 + 's',
                    size: Math.random() * 2 + 2 + 'px'
                }));
            }, []);

            return (
                <div className="absolute inset-0 overflow-hidden pointer-events-none z-0">
                    {slowStars.map(star => (
                        <div
                            key={`slow-${star.id}`}
                            className="absolute bg-white/20 rounded-full animate-float-30"
                            style={{
                                left: star.left,
                                top: star.top,
                                width: star.size,
                                height: star.size,
                                animationDuration: star.duration,
                                animationDelay: star.delay
                            }}
                        />
                    ))}
                    
                    {fastStars.map(star => (
                        <div
                            key={`fast-${star.id}`}
                            className="absolute bg-aurora/40 saturate-50 rounded-full animate-float-45 shadow-[0_0_2px_#00FFFF]"
                            style={{
                                left: star.left,
                                top: star.top,
                                width: star.size,
                                height: star.size,
                                animationDuration: star.duration,
                                animationDelay: star.delay
                            }}
                        />
                    ))}
                </div>
            );
        };

        const AuroraBackground = () => (
            <div className="absolute inset-0 overflow-hidden pointer-events-none">
                <div className="aurora-blob bg-white w-[50vw] h-[50vw] md:w-[30vw] md:h-[30vw] top-1/2 left-1/2 -ml-[35vw] -mt-[30vh] animate-blob"></div>
                <div className="aurora-blob bg-cyan-500 w-[55vw] h-[55vw] md:w-[35vw] md:h-[35vw] top-1/2 left-1/2 ml-[5vw] -mt-[25vh] animation-delay-2000 animate-blob" style={{animationDelay: '2s'}}></div>
                <div className="aurora-blob bg-fuchsia-600 w-[60vw] h-[60vw] md:w-[40vw] md:h-[40vw] top-1/2 left-1/2 -ml-[15vw] mt-[5vh] animation-delay-4000 animate-blob" style={{animationDelay: '4s'}}></div>
                <div className="absolute inset-0 opacity-[0.03]" style={{backgroundImage: 'url("data:image/svg+xml,%3Csvg viewBox=\'0 0 200 200\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noiseFilter\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.65\' numOctaves=\'3\' stitchTiles=\'stitch\'/%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noiseFilter)\'/%3E%3C/svg%3E")'}}></div>
            </div>
        );

        // --- UPDATED NavItem with Ripple Effect ---
        const NavItem = ({ label, isPrivate, rippleColor = "#FFFFFF" }) => {
            // Parent variants (for text/container behavior)
            const containerVariants = {
                publicHover: { scale: 1.05 },
                privateHover: { 
                    x: [0, -2, 2, -2, 2, 0],
                    color: '#FF4D4D', 
                    transition: { duration: 0.4 } 
                }
            };

            // Child variants for the Ripple
            const rippleVariants = {
                publicHover: { 
                    scale: [0.1, 5], // Start small, expand big to cover
                    opacity: [0.5, 0], // Fade out
                    transition: { duration: 1.3, ease: "easeOut" }
                },
                privateHover: { 
                    scale: [0.1, 5], 
                    opacity: [0.5, 0],
                    transition: { duration: 1.3, ease: "easeOut" }
                }
            };

            return (
                <motion.div 
                    whileHover={isPrivate ? "privateHover" : "publicHover"} 
                    whileTap={{ scale: 0.95 }}
                    variants={containerVariants}
                    className="relative group cursor-pointer px-4 py-2 mx-1 rounded-full overflow-hidden" // overflow-hidden keeps ripple inside
                >
                    {/* The Ripple Element */}
                    <motion.div
                        className="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full pointer-events-none"
                        style={{ 
                            width: '20px', 
                            height: '20px',
                            border: `1px solid ${rippleColor}`,
                            boxShadow: `0 0 10px ${rippleColor}`, // Glow
                            opacity: 0 // Default hidden
                        }}
                        variants={rippleVariants}
                    />

                    <div className={`relative z-10 flex items-center text-xs md:text-sm tracking-widest transition-colors duration-300 ${isPrivate ? 'group-hover:text-red-400' : 'text-silver-dim group-hover:text-silver'}`}>
                        {label}
                        {isPrivate && <span className="ml-1 text-[10px] group-hover:animate-pulse">ðŸ”’</span>}
                    </div>
                    {!isPrivate && (
                        <div className="absolute bottom-1 left-1/2 -translate-x-1/2 w-0 h-[1px] bg-gradient-to-r from-aurora to-purple-500 group-hover:w-3/4 transition-all duration-300"></div>
                    )}
                </motion.div>
            );
        };

        const MainApp = () => {
            const [isInverted, setIsInverted] = useState(false);
            const decodedTitle = useDecodingText("SEALED LIGHT FLOW");
            const isRandomGlitching = useRandomGlitch(4000, 10000);
            
            const [cursorXY, setCursorXY] = useState({ x: -100, y: -100 });

            useEffect(() => {
                const moveCursor = (e) => {
                    setCursorXY({ x: e.clientX, y: e.clientY });
                };
                window.addEventListener('mousemove', moveCursor);
                return () => window.removeEventListener('mousemove', moveCursor);
            }, []);

            const cursorVariants = {
                default: {
                    x: cursorXY.x - 16,
                    y: cursorXY.y - 16,
                }
            };

            const x = useMotionValue(0);
            const y = useMotionValue(0);
            const springConfig = { damping: 25, stiffness: 150 };
            const springX = useSpring(x, springConfig);
            const springY = useSpring(y, springConfig);

            const handleMouseMove = (e) => {
                const { clientX, clientY } = e;
                const centerX = window.innerWidth / 2;
                const centerY = window.innerHeight / 2;
                x.set((clientX - centerX) / 40);
                y.set((clientY - centerY) / 40);
            };

            const handleHiddenTrigger = () => {
                setIsInverted(true);
                setTimeout(() => setIsInverted(false), 100);
            };

            return (
                <div 
                    onMouseMove={handleMouseMove}
                    className={`relative w-full h-screen bg-void text-silver font-mono overflow-hidden transition-all duration-75 cursor-none ${isInverted ? 'invert' : ''}`}
                >
                    <AuroraBackground />
                    
                    <StarField />

                    <div onMouseEnter={handleHiddenTrigger} className="absolute top-0 right-0 w-[10px] h-[10px] z-50 cursor-none hover:bg-white/10" title="GLITCH"></div>

                    <motion.div 
                        style={{ x: springX, y: springY }}
                        className="absolute inset-0 flex flex-col items-center justify-center z-10 px-4"
                    >
                        <motion.h1 
                            initial={{ opacity: 0, scale: 0.9 }}
                            animate={{ 
                                opacity: 1, 
                                scale: 1,
                                y: [0, -5, 0] 
                            }}
                            transition={{ 
                                duration: 1.5, 
                                ease: "easeOut",
                                y: { 
                                    duration: 4,
                                    repeat: Infinity,
                                    ease: "easeInOut"
                                }
                            }}
                            className={`glitch-text text-4xl md:text-7xl lg:text-8xl font-bold tracking-tighter text-center select-none cursor-none ${isRandomGlitching ? 'active-glitch' : ''}`}
                            data-text={decodedTitle}
                        >
                            {decodedTitle}
                        </motion.h1>

                        <motion.div 
                            initial={{ opacity: 0 }}
                            animate={{ opacity: 1 }}
                            transition={{ duration: 1, delay: 1.5 }}
                            className="mt-8 flex items-center space-x-3"
                        >
                            <span className="relative flex h-2 w-2">
                                <motion.span 
                                    className="animate-ping absolute inline-flex h-full w-full rounded-full opacity-75"
                                    animate={{ backgroundColor: ["#80E6E6", "#B366FF", "#E680E6", "#80E6E6"] }}
                                    transition={{ duration: 6, repeat: Infinity, ease: "linear" }}
                                />
                                <motion.span 
                                    className="relative inline-flex rounded-full h-2 w-2"
                                    animate={{ 
                                        backgroundColor: ["#80E6E6", "#B366FF", "#E680E6", "#80E6E6"],
                                        boxShadow: [
                                            "0 0 10px #80E6E6", 
                                            "0 0 10px #B366FF", 
                                            "0 0 10px #E680E6", 
                                            "0 0 10px #80E6E6"
                                        ] 
                                    }}
                                    transition={{ duration: 6, repeat: Infinity, ease: "linear" }}
                                />
                            </span>
                            <p className="text-[10px] md:text-xs text-silver-dim tracking-[0.3em] opacity-70">
                                // STATUS: WAITING FOR THE CLERGY<span className="animate-pulse text-aurora">_</span>
                            </p>
                        </motion.div>
                    </motion.div>

                    <motion.div 
                        initial={{ y: 50, opacity: 0 }}
                        animate={{ y: 0, opacity: 1 }}
                        transition={{ duration: 0.8, delay: 0.5 }}
                        className="fixed bottom-10 left-1/2 -translate-x-1/2 z-20"
                    >
                        <div className="flex items-center px-4 py-2 bg-black/40 backdrop-blur-md border border-white/5 rounded-full shadow-[0_0_30px_rgba(0,0,0,0.5)] cursor-none">
                            <NavItem label="GALLERY" rippleColor="#FFFFFF" />
                            <div className="w-[1px] h-3 bg-white/10 mx-1"></div>
                            <NavItem label="PLAYGROUND" rippleColor="#80E6E6" />
                            <div className="w-[1px] h-3 bg-white/10 mx-1"></div>
                            <NavItem label="LOGS" rippleColor="#B366FF" />
                            <div className="w-[1px] h-3 bg-white/10 mx-1"></div>
                            <NavItem label="THE CORE" isPrivate={true} rippleColor="#E680E6" />
                        </div>
                    </motion.div>

                    <div className="absolute top-8 left-8 text-[9px] text-gray-700 tracking-[0.2em] hidden md:block select-none">
                        SYS.VER.1.4 // RIPPLE_DOCK<br/>
                        LAT: 35.6895Â° N
                    </div>

                    <div className="absolute bottom-8 right-8 text-[9px] text-gray-700 tracking-[0.2em] hidden md:block text-right select-none">
                        MEM: WEST_COAST_SERVER<br/>
                        UPTIME: âˆž
                    </div>

                    <motion.div
                        className="fixed top-0 left-0 w-8 h-8 border border-white/30 rounded-full pointer-events-none z-50 mix-blend-difference"
                        variants={cursorVariants}
                        animate="default"
                        transition={{ type: "spring", stiffness: 500, damping: 28 }}
                    />
                    <motion.div
                        className="fixed top-0 left-0 w-1 h-1 bg-aurora rounded-full pointer-events-none z-50 shadow-[0_0_20px_3px_#00FFFF]"
                        style={{ x: cursorXY.x - 2, y: cursorXY.y - 2 }}
                    />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<MainApp />);
    </script>
</body>
</html>
