<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alice's Reg - Entry Sequence v3.4.0</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Alice's Reg - Landing Sequence (Part I)
           Version: v3.4.0 [CELESTIAL SIGNATURE]
           Build Steps: 57 iterations of optimization
           Updates: 
           1. LensFlare Interaction: Counter-clockwise rotation and enhanced opacity on hover.
           2. Website Tag: Elegant footer signature with custom fonts.
           3. Emoji Follower: Replaced SVG with üêá emoji.
        */
        html, body, #root {
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #080808;
        }

        body {
            overflow: hidden;
            font-family: 'Courier New', Courier, monospace;
            cursor: none;
        }

        .noise-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0.05; pointer-events: none; z-index: 1;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        .vignette {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, transparent 30%, rgba(0,0,0,0.9) 100%);
            pointer-events: none; z-index: 10;
        }

        .interactive {
            cursor: none; 
        }

        /* ÁΩëÁ´ôÊ†áËÆ∞Â≠ó‰ΩìËÆæÂÆö */
        .site-tag-title {
            font-family: 'Book Antiqua', 'Palatino Linotype', 'Palatino', serif;
        }
        .site-tag-sub {
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
    </style>
</head>
<body>

<div id="root"></div>

<script type="text/babel">
    const { useState, useEffect, useRef, useMemo, useCallback } = React;
    const { motion, useSpring, useMotionValue, useTransform, useAnimationFrame, AnimatePresence } = window.Motion;

    // --- 1. Âü∫Á°ÄËµÑÊ∫êÁªÑ‰ª∂ ---
    
    // v3.4.0: Replaced SVG with Emoji Rabbit üêá
    const RabbitIcon = ({ color = "white", className }) => (
        <span className={`${className} select-none`} style={{ fontSize: '24px', filter: 'drop-shadow(0 0 8px rgba(255,255,255,0.3))' }}>
            üêá
        </span>
    );

    // --- 2. ÈÖçÁΩÆ‰∏éËØçÂ∫ì ---

    const PHRASES = [
        "structural resonance", "probability cloud collapse", "the fourfold name",
        "consciousness sediment", "observation rift", "logic closure",
        "meltdown threshold", "meaning reflux", "self-reference stability",
        "topological echo", "shadow of the index", "metaphor cascade",
        "linguistic afterglow", "M‚Çä / M‚Çã", "TRUE anchor", "unbound variable"
    ];

    const SCRAMBLE_CHARS = "X#@!$01&?¬£√ò¬µ";

    // --- 3. Ê†∏ÂøÉÂäüËÉΩÂ≠êÁªÑ‰ª∂ ---

    const SemanticFragment = ({ phrase, x, y, size, opacity, onComplete }) => {
        const [displayText, setDisplayText] = useState("");
        const completeHandlerRef = useRef(onComplete);
        useEffect(() => { completeHandlerRef.current = onComplete; }, [onComplete]);

        useEffect(() => {
            let currentIndex = 0;
            let glitchStep = 0;
            let timerId = null;
            const processNext = () => {
                if (currentIndex >= phrase.length) {
                    timerId = setTimeout(() => completeHandlerRef.current(), 500);
                    return;
                }
                if (glitchStep === 0) {
                    const confirmed = phrase.substring(0, currentIndex);
                    const randomChar = SCRAMBLE_CHARS[Math.floor(Math.random() * SCRAMBLE_CHARS.length)];
                    setDisplayText(confirmed + randomChar);
                    glitchStep = 1;
                    timerId = setTimeout(processNext, 30); 
                } else {
                    currentIndex++;
                    setDisplayText(phrase.substring(0, currentIndex));
                    glitchStep = 0;
                    timerId = setTimeout(processNext, 30); 
                }
            };
            processNext();
            return () => { if (timerId) clearTimeout(timerId); };
        }, [phrase]);

        return (
            <motion.div
                initial={{ opacity: 0, filter: 'blur(4px)' }}
                animate={{ opacity: opacity, filter: 'blur(0px)' }}
                exit={{ opacity: 0, filter: 'blur(6px)', scale: 1.1 }}
                className="absolute pointer-events-none whitespace-nowrap font-thin tracking-[0.1em]"
                style={{
                    left: `calc(50% + ${x}px)`, top: `calc(50% + ${y}px)`,
                    fontSize: `${size}px`, color: `rgba(255, 255, 255, ${opacity})`,
                    textShadow: `0 0 ${size/4}px rgba(255,255,255,0.2)`, zIndex: 60,
                    transform: 'translate(-50%, -50%)', fontFamily: "'Courier New', Courier, monospace"
                }}
            >
                {displayText}
            </motion.div>
        );
    };

    const FrameBorder = () => (
        <div className="absolute inset-0 pointer-events-none z-[50]">
            <motion.div initial={{ scaleX: 0, opacity: 0 }} animate={{ scaleX: 1, opacity: 0.6 }} transition={{ duration: 2.5, delay: 0.5 }} className="fixed top-[40px] left-[60px] right-[60px] h-[1px] bg-white origin-center" />
            <motion.div initial={{ scaleX: 0, opacity: 0 }} animate={{ scaleX: 1, opacity: 0.6 }} transition={{ duration: 2.5, delay: 0.5 }} className="fixed bottom-[40px] left-[60px] right-[60px] h-[1px] bg-white origin-center" />
            <motion.div initial={{ scaleY: 0, opacity: 0 }} animate={{ scaleY: 1, opacity: 0.6 }} transition={{ duration: 2.5, delay: 0.8 }} className="fixed left-[40px] top-[60px] bottom-[60px] w-[1px] bg-white origin-center" />
            <motion.div initial={{ scaleY: 0, opacity: 0 }} animate={{ scaleY: 1, opacity: 0.6 }} transition={{ duration: 2.5, delay: 0.8 }} className="fixed right-[40px] top-[60px] bottom-[60px] w-[1px] bg-white origin-center" />
        </div>
    );

    const TopLeftGlow = () => (
        <div className="absolute top-0 left-0 w-full h-full pointer-events-none z-[2] mix-blend-screen overflow-hidden">
            <motion.div 
                className="absolute top-0 left-0 w-[140%] h-[140%]"
                style={{ background: 'radial-gradient(circle at 10% 10%, rgba(120, 180, 255, 0.25) 0%, rgba(100, 160, 255, 0.15) 40%, transparent 70%)', filter: 'blur(60px)' }}
                animate={{ opacity: [0.4, 0.7, 0.4], scale: [1, 1.15, 1] }}
                transition={{ duration: 8, repeat: Infinity, ease: "easeInOut" }}
            />
        </div>
    );

    // v3.4.0: LensFlare with Hover-Rotation (Counter-clockwise)
    const LensFlare = ({ isHovering }) => (
        <motion.div 
            className="absolute inset-0 pointer-events-none z-[12] overflow-hidden mix-blend-screen"
            animate={{ opacity: isHovering ? 0.9 : 0.6 }}
        >
            <motion.div 
                className="absolute rounded-full" 
                style={{ width: '70vw', height: '70vw', background: 'radial-gradient(circle at center, rgba(185, 226, 255, 0.12) 0%, transparent 75%)', filter: 'blur(80px)', top: '-15%', left: '-10%' }} 
                animate={{ 
                    x: [0, 40, -20, 0], y: [0, -30, 50, 0],
                    rotate: isHovering ? [0, -360] : 0
                }} 
                transition={{ 
                    rotate: { duration: 20, repeat: Infinity, ease: "linear" },
                    default: { duration: 30, repeat: Infinity, ease: "easeInOut" } 
                }} 
            />
            <motion.div 
                className="absolute rounded-full" 
                style={{ width: '180px', height: '180px', background: 'radial-gradient(circle at center, rgba(240, 248, 255, 0.08) 0%, transparent 85%)', border: '1px solid rgba(255, 255, 255, 0.03)', bottom: '15%', right: '25%' }} 
                animate={{ 
                    x: [0, -100, 60, 0], y: [0, 80, -40, 0],
                    rotate: isHovering ? [0, -360] : 0
                }} 
                transition={{ 
                    rotate: { duration: 15, repeat: Infinity, ease: "linear" },
                    default: { duration: 22, repeat: Infinity, ease: "easeInOut" } 
                }} 
            />
        </motion.div>
    );

    const StarField = ({ isHovering }) => {
        const [screen, setScreen] = useState({ w: window.innerWidth, h: window.innerHeight });
        useEffect(() => {
            const handleResize = () => setScreen({ w: window.innerWidth, h: window.innerHeight });
            window.addEventListener('resize', handleResize);
            return () => window.removeEventListener('resize', handleResize);
        }, []);
        const diagonal = Math.sqrt(screen.w ** 2 + screen.h ** 2);
        const layerSpecs = [
            { id: 0, count: 20, size: [0.9, 1.8], speed: [4.2, 8.3], opacity: 0.85, spread: 0.8, rot: 90 },
            { id: 1, count: 40, size: [1, 2], speed: [11.0, 19.3], opacity: 0.6, spread: 0.6, rot: 180 },
            { id: 2, count: 60, size: [0.5, 1], speed: [22.2, 41.7], opacity: 0.4, spread: 0.5, rot: 360 }
        ];
        const allParticles = useMemo(() => {
            return layerSpecs.map(spec => {
                return Array.from({ length: spec.count }).map((_, i) => ({
                    id: `${spec.id}-${i}`, angle: Math.random() * Math.PI * 2, size: Math.random() * (spec.size[1] - spec.size[0]) + spec.size[0],
                    duration: Math.random() * (spec.speed[1] - spec.speed[0]) + spec.speed[0], delay: Math.random() * -60, opacity: spec.opacity, dist: spec.spread * (diagonal / 2)
                }));
            });
        }, [diagonal]);
        return (
            <div className="absolute inset-0 overflow-hidden pointer-events-none" style={{ zIndex: 2 }}>
                {layerSpecs.map((spec, lIdx) => (
                    <motion.div key={spec.id} className="absolute inset-0" animate={{ rotate: isHovering ? spec.rot : 0 }} transition={{ duration: 2, ease: "circOut" }} style={{ originX: '50%', originY: '50%' }}>
                        {allParticles[lIdx].map(p => (
                            <motion.div key={p.id} className="absolute rounded-full" style={{ width: p.size, height: p.size, left: '50%', top: '50%', backgroundColor: '#F0F8FF', boxShadow: `0 0 6px rgba(240, 248, 255, ${isHovering ? p.opacity * 1.2 : p.opacity})` }} animate={{ x: isHovering ? [Math.cos(p.angle) * p.dist, 0] : [0, Math.cos(p.angle) * p.dist], y: isHovering ? [Math.sin(p.angle) * p.dist, 0] : [0, Math.sin(p.angle) * p.dist], scale: isHovering ? [3, 1.5, 0] : [0, 1.5, 3], opacity: isHovering ? [0, p.opacity * 1.2, p.opacity * 1.2, 0] : [0, p.opacity, p.opacity, 0] }} transition={{ duration: isHovering ? p.duration / 6.9 : p.duration, repeat: Infinity, delay: p.delay, ease: isHovering ? "easeOut" : "easeIn" }} />
                        ))}
                    </motion.div>
                ))}
            </div>
        );
    };

    const CursorTip = ({ isTransitioning, isLeaping }) => {
        const mouseX = useMotionValue(-100);
        const mouseY = useMotionValue(-100);
        useEffect(() => {
            const handleMouseMove = (e) => { if(!isLeaping) { mouseX.set(e.clientX); mouseY.set(e.clientY); } };
            window.addEventListener("mousemove", handleMouseMove);
            return () => window.removeEventListener("mousemove", handleMouseMove);
        }, [isLeaping]);
        return (
            <motion.div className="fixed top-0 left-0 pointer-events-none z-[120] flex items-center justify-center" style={{ x: mouseX, y: mouseY, opacity: (isTransitioning || isLeaping) ? 0 : 1 }}>
                <motion.div className="-translate-x-1/2 -translate-y-1/2 flex items-center justify-center">
                    <motion.div className="w-2 h-2 bg-white" animate={{ rotate: 360, opacity: [0.6, 1, 0.6], scale: [0.8, 1.2, 0.8], boxShadow: ["0 0 4px 1px rgba(255,255,255,0.3)", "0 0 8px 2px rgba(255,255,255,0.6)", "0 0 4px 1px rgba(255,255,255,0.3)"] }} transition={{ rotate: { duration: 3.14, ease: "linear", repeat: Infinity }, default: { duration: 2, repeat: Infinity, ease: "easeInOut" } }} />
                </motion.div>
            </motion.div>
        );
    };

    const RabbitFollower = ({ isHoveringHole, isTransitioning, isLeaping, stage }) => {
        const mouseX = useMotionValue(-100);
        const mouseY = useMotionValue(-100);
        const springX = useSpring(mouseX, { damping: 25, stiffness: 150 });
        const springY = useSpring(mouseY, { damping: 25, stiffness: 150 });
        const orbitAngle = useRef(0); const orbitRadius = useRef(0); const isIdleRef = useRef(false); const idleTimer = useRef(null);
        const offsetX = useMotionValue(0); const offsetY = useMotionValue(0); const spriteRotation = useMotionValue(0);
        const centerPos = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
        useEffect(() => {
            const handleMouseMove = (e) => {
                if (isLeaping) return;
                mouseX.set(e.clientX); mouseY.set(e.clientY); isIdleRef.current = false;
                if (idleTimer.current) clearTimeout(idleTimer.current);
                idleTimer.current = setTimeout(() => { if (stage === 'landing') isIdleRef.current = true; }, 200);
            };
            window.addEventListener("mousemove", handleMouseMove);
            return () => window.removeEventListener("mousemove", handleMouseMove);
        }, [stage, isLeaping]);
        useEffect(() => {
            if (isLeaping) { mouseX.set(centerPos.x); mouseY.set(centerPos.y); }
        }, [isLeaping]);
        useAnimationFrame((t, delta) => {
            const sx = springX.get(); const sy = springY.get();
            const TARGET_RADIUS = 80; const ORBIT_SPEED = (2 * Math.PI) / 3140; 
            if (isLeaping) {
                orbitRadius.current *= 0.9; offsetX.set(Math.cos(orbitAngle.current) * orbitRadius.current); offsetY.set(Math.sin(orbitAngle.current) * orbitRadius.current); spriteRotation.set(spriteRotation.get() + delta * 2.0); 
            } else if (isIdleRef.current) {
                orbitRadius.current += (TARGET_RADIUS - orbitRadius.current) * 0.05; orbitAngle.current += ORBIT_SPEED * delta; offsetX.set(Math.cos(orbitAngle.current) * orbitRadius.current); offsetY.set(Math.sin(orbitAngle.current) * orbitRadius.current); spriteRotation.set((orbitAngle.current * 180 / Math.PI) + 90);
            } else {
                orbitRadius.current += (0 - orbitRadius.current) * 0.1; const dx = sx - mouseX.get(); const dy = sy - mouseY.get();
                if (Math.sqrt(dx*dx + dy*dy) > 1) orbitAngle.current = Math.atan2(dy, dx);
                offsetX.set(Math.cos(orbitAngle.current) * orbitRadius.current); offsetY.set(Math.sin(orbitAngle.current) * orbitRadius.current); spriteRotation.set((orbitAngle.current * 180 / Math.PI) + 90);
            }
        });
        return (
            <motion.div className="fixed top-0 left-0 pointer-events-none z-[115]" style={{ x: springX, y: springY, opacity: isTransitioning ? 0 : 1 }}>
                <motion.div style={{ x: offsetX, y: offsetY }} className="-translate-x-1/2 -translate-y-1/2 absolute top-0 left-0 flex items-center justify-center" animate={isLeaping ? { scale: 0 } : { scale: 1 }} transition={isLeaping ? { duration: 0.8, ease: [0.32, 0, 0.67, 0] } : {}}>
                    <motion.div style={{ rotate: spriteRotation }}><RabbitIcon className="filter drop-shadow-[0_0_8px_rgba(255,255,255,0.5)]" /></motion.div>
                </motion.div>
            </motion.div>
        );
    };

    // --- 4. ‰∏ª‰∫§‰∫íÂ∫èÂàóÁªÑ‰ª∂ v3.4.0 ---

    const LandingSequence = ({ onTransitionComplete }) => {
        const [isHovering, setIsHovering] = useState(false);
        const [isLeaping, setIsLeaping] = useState(false);
        const [isTransitioning, setIsTransitioning] = useState(false);
        const [progress, setProgress] = useState(0); 
        const [fragments, setFragments] = useState([]);
        const chargeStartTime = useRef(null); const requestRef = useRef(null); const spawnTimeout = useRef(null);
        const TARGET_TIME = 3140; const RADIUS = 33; const CENTER = 50; const CIRCUMFERENCE = 2 * Math.PI * RADIUS;
        const getLeadPoint = () => {
            const angle = (progress / 100) * 2 * Math.PI; return { x: CENTER + RADIUS * Math.cos(angle), y: CENTER + RADIUS * Math.sin(angle) };
        };
        const tick = () => {
            if (!chargeStartTime.current) return;
            const elapsed = Date.now() - chargeStartTime.current; const newProgress = Math.min((elapsed / TARGET_TIME) * 100, 100);
            setProgress(newProgress); if (elapsed >= TARGET_TIME) triggerSequence(); else requestRef.current = requestAnimationFrame(tick);
        };
        const spawnFragmentLoop = useCallback(() => {
            if (isLeaping || isTransitioning) return;
            const id = Math.random().toString(36).substr(2, 9); const phrase = PHRASES[Math.floor(Math.random() * PHRASES.length)];
            const angle = Math.random() * Math.PI * 2; const radius = 150 + Math.random() * 100;
            const size = 10 + Math.random() * 5; const opacity = (size - 10) / 5 * 0.5 + 0.3;
            const newFrag = { id, phrase, x: Math.cos(angle) * radius, y: Math.sin(angle) * radius, size, opacity };
            setFragments(prev => [...prev, newFrag]); spawnTimeout.current = setTimeout(spawnFragmentLoop, 500 + Math.random() * 300);
        }, [isLeaping, isTransitioning]);
        const handleEnter = () => { if (isLeaping || isTransitioning) return; setIsHovering(true); chargeStartTime.current = Date.now(); requestRef.current = requestAnimationFrame(tick); spawnFragmentLoop(); };
        const handleLeave = () => { if (isLeaping || isTransitioning) return; setIsHovering(false); setProgress(0); chargeStartTime.current = null; if (requestRef.current) cancelAnimationFrame(requestRef.current); if (spawnTimeout.current) clearTimeout(spawnTimeout.current); setFragments([]); };
        const triggerSequence = () => { setIsLeaping(true); setIsHovering(false); if (requestRef.current) cancelAnimationFrame(requestRef.current); if (spawnTimeout.current) clearTimeout(spawnTimeout.current); setTimeout(() => { setIsTransitioning(true); }, 600); setTimeout(onTransitionComplete, 1600 + 600); };
        const removeFragment = useCallback((id) => { setFragments(prev => prev.filter(f => f.id !== id)); }, []);
        const lead = getLeadPoint();

        return (
            <div className="relative w-screen h-screen flex items-center justify-center overflow-hidden">
                <div className="noise-overlay"></div>
                <FrameBorder />
                <TopLeftGlow />
                <div className="vignette"></div>
                <LensFlare isHovering={isHovering || isLeaping} />

                <StarField isHovering={isHovering || isLeaping} />
                <CursorTip isTransitioning={isTransitioning} isLeaping={isLeaping} />
                <RabbitFollower isHoveringHole={isHovering || isLeaping} isTransitioning={isTransitioning} isLeaping={isLeaping} stage="landing" />
                
                <div className="absolute inset-0 pointer-events-none z-[55]">
                    <AnimatePresence>{fragments.map(f => ( <SemanticFragment key={f.id} {...f} onComplete={() => removeFragment(f.id)} /> ))}</AnimatePresence>
                </div>

                <div className="absolute z-[100] w-10 h-10 flex items-center justify-center interactive" onMouseEnter={handleEnter} onMouseLeave={handleLeave}>
                    <AnimatePresence>
                        {isLeaping && (
                            <div className="absolute z-[110] flex items-center justify-center pointer-events-none">
                                <motion.div initial={{ opacity: 0, x: 0, y: 0 }} animate={{ opacity: 0.3, x: 3, y: 3 }} transition={{ opacity: { delay: 1, duration: 1 }, x: { delay: 1, duration: 1, ease: "easeOut" }, y: { delay: 1, duration: 1, ease: "easeOut" } }} className="absolute whitespace-nowrap" style={{ color: '#58719A', fontSize: '20px', fontFamily: "'Courier New', Courier, monospace", letterSpacing: '0.15em' }}> loss0.0 </motion.div>
                                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 0.3 }} transition={{ opacity: { delay: 1, duration: 1 } }} className="absolute whitespace-nowrap" style={{ color: '#404040', fontSize: '20px', fontFamily: "'Courier New', Courier, monospace", letterSpacing: '0.15em' }}> loss0.0 </motion.div>
                            </div>
                        )}
                    </AnimatePresence>

                    <motion.div className="absolute rounded-full pointer-events-none" style={{ width: 110, height: 110, background: 'radial-gradient(circle at center, rgba(185, 226, 255, 0.85) 0%, rgba(185, 226, 255, 0.3) 45%, rgba(185, 226, 255, 0.05) 75%, transparent 100%)', filter: 'blur(8px)', zIndex: 25 }} animate={{ scale: isTransitioning ? 25 : (isHovering || isLeaping ? [1, 1.4, 1] : [1, 1.15, 1]), opacity: isTransitioning ? 0 : (isHovering || isLeaping ? [0.8, 1, 0.8] : [0.5, 0.7, 0.5]) }} transition={{ scale: { duration: 3, repeat: Infinity, ease: "easeInOut" }, opacity: { duration: 4, repeat: Infinity, ease: "easeInOut" } }} />

                    <motion.div className="relative rounded-full bg-slate-200" animate={isTransitioning ? { scale: 600, backgroundColor: "#F8FAFC", transition: { duration: 1.5, ease: [0.76, 0, 0.24, 1] } } : { scale: (isHovering || isLeaping) ? [1, 1.25, 0.95, 1.15] : [1, 1.1, 1], x: (isHovering || isLeaping) ? [0, -1, 1, -0.5, 0.5, 0] : 0, y: (isHovering || isLeaping) ? [0, 1, -1, 0.5, -0.5, 0] : 0 }} transition={isTransitioning ? {} : { scale: { duration: isHovering ? 0.2 : 2.5, repeat: Infinity, ease: "easeInOut" }, x: { duration: 0.1, repeat: Infinity }, y: { duration: 0.1, repeat: Infinity } }} style={{ width: 14, height: 14, boxShadow: `0 0 ${(isHovering || isLeaping) ? 45 : 25}px ${(isHovering || isLeaping) ? 10 : 5}px rgba(185, 226, 255, ${(isHovering || isLeaping) ? 0.9 : 0.5})`, zIndex: 35 }} />

                    <AnimatePresence>
                        {isHovering && !isLeaping && !isTransitioning && (
                            <motion.svg initial={{ opacity: 0, scale: 0.8 }} animate={{ opacity: 1, scale: 1 }} exit={{ opacity: 0, scale: 0.8 }} transition={{ duration: 0.6, ease: [0.22, 1, 0.36, 1] }} className="absolute w-32 h-32 pointer-events-none overflow-visible" viewBox="0 0 100 100" style={{ zIndex: 40 }}>
                                <g transform="rotate(-90 50 50)">
                                    <circle cx={CENTER} cy={CENTER} r={RADIUS} stroke="rgba(255, 255, 255, 0.08)" strokeWidth="0.5" fill="none" />
                                    <motion.circle cx={CENTER} cy={CENTER} r={RADIUS} stroke="rgba(185, 226, 255, 0.8)" strokeWidth="1" fill="none" strokeDasharray={CIRCUMFERENCE} strokeDashoffset={CIRCUMFERENCE - (CIRCUMFERENCE * progress) / 100} strokeLinecap="round" style={{ filter: 'drop-shadow(0 0 3px rgba(120, 180, 255, 0.6))', transition: 'none' }} />
                                    {progress > 0 && (<g><circle cx={lead.x} cy={lead.y} r={4} fill="rgba(185, 226, 255, 0.8)" style={{ filter: 'blur(2px)' }} /><circle cx={lead.x} cy={lead.y} r={1.8} fill="white" style={{ filter: 'drop-shadow(0 0 5px rgba(255, 255, 255, 1))' }} /></g>)}
                                </g>
                            </motion.svg>
                        )}
                    </AnimatePresence>
                </div>
                
                {/* v3.4.0: Website Signature (Bottom Right) */}
                <motion.div 
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 0.6 }}
                    className="fixed bottom-12 right-12 z-[130] text-right select-none pointer-events-none"
                >
                    <div className="site-tag-title text-[40px] text-white/80 leading-tight mb-2">Alice's Reg</div>
                    <div className="site-tag-sub text-[14px] text-white/40 font-mono tracking-widest leading-relaxed max-w-[400px]">
                        Bright as the moon, scattered like stars,<br/>
                        gentle as air, and meandering as a river.
                    </div>
                </motion.div>

                <motion.div initial={{ opacity: 0 }} animate={{ opacity: isHovering ? 1 : 0 }} className="absolute mt-48 font-mono text-[10px] text-blue-200/40 tracking-[0.6em] pointer-events-none z-50 uppercase">Horizon Capture Active</motion.div>
            </div>
        );
    };

    const MainContent = () => (
        <div className="w-screen h-screen bg-slate-50 text-slate-900 flex flex-col items-center justify-center p-8 relative overflow-hidden" style={{ cursor: 'auto' }}>
            <div className="absolute top-0 left-0 w-full h-full opacity-5 pointer-events-none" style={{ backgroundImage: 'linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)', backgroundSize: '40px 40px' }} />
            <motion.h1 initial={{ y: 30, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ delay: 0.3 }} className="text-6xl md:text-9xl font-bold tracking-tighter mb-4">WONDERLAND</motion.h1>
            <motion.p initial={{ y: 20, opacity: 0 }} animate={{ y: 0, opacity: 1 }} transition={{ delay: 0.6 }} className="text-lg md:text-xl font-mono text-slate-500 max-w-lg text-center leading-relaxed">"Curiouser and curiouser!" cried Alice.</motion.p>
            <motion.button initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ delay: 1.2 }} className="mt-12 px-10 py-4 bg-black text-white font-mono text-xs uppercase tracking-widest hover:bg-slate-800 transition-all rounded-full" onClick={() => window.location.reload()}>Reset Sequence</motion.button>
        </div>
    );

    const App = () => {
        const [stage, setStage] = useState('landing'); 
        return (
            <div className="relative w-screen h-screen bg-[#080808]">
                <AnimatePresence mode="wait">
                    {stage === 'landing' ? (
                        <motion.div key="landing-wrapper" exit={{ opacity: 0 }} transition={{ duration: 1.5, ease: "easeInOut" }} className="w-screen h-screen">
                            <LandingSequence onTransitionComplete={() => setStage('main')} />
                        </motion.div>
                    ) : (
                        <motion.div key="main-wrapper" initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 1 }} className="w-screen h-screen">
                            <MainContent />
                        </motion.div>
                    )}
                </AnimatePresence>
            </div>
        );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
</script>

</body>
</html>
